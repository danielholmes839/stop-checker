query TravelPlanner($origin: ID!, $destination: ID!, $options: TravelOptions!) {
  travelPlanner(origin: $origin, destination: $destination, options: $options) {
    errors {
      field
      message
    }
    ...TravelSchedule
  }
}

query TravelPlannerFixedRoute($input: [TravelLegInput!]!, $options: TravelOptions!) {
  travelPlannerFixedRoute(input: $input, options: $options) {
    errors {
      field
      message
    }
    ...TravelSchedule
  }
}

fragment TravelSchedule on TravelPayload {
  schedule {
    legs {
      ...TravelScheduleLegDefault
    }
    departure
    arrival
    duration
  }
}

fragment TravelScheduleLegDefault on TravelScheduleLeg {
  departure
  arrival
  duration
  origin {
    id
    name
    code
  }
  destination {
    id
    name
    code
  }
  walk
  distance
  transit {
    route {
      id
      name
      type
      text
      background
    }
    trip {
      headsign
      stoptimes {
        id
        sequence
        time
        stop {
          name
        }
      }
    }
    arrival {
      sequence
    }
    departure {
      sequence
    }
  }
}
